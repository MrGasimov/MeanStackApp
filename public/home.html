<div class="container">

  <div class="container users-container">
    <h1 style="text-align:center;">{{vm.title}}</h1>
    <table class="table table-bordered table-striped table-hovered" ng-hide="vm.detailed">
      <th>Name</th>
      <th>Age</th>
      <th>Actions</th>
      <tr ng-repeat="user in vm.users">
          <td style="cursor:pointer;" ng-if="!editing" ng-click="vm.showDetails(user)">{{user.name}} </td>
          <td style="cursor:pointer;"  ng-if="!editing" ng-click="vm.showDetails(user)">{{user.age}} </td>
          <td ng-if="editing">
            <input type="text" ng-model="user.name" class="form-control" style="width:250px;"/>
          </td>
          <td ng-if="editing">
            <input type="text" ng-model="user.age" class="form-control" style="width:250px;"/>
          </td>
          <td>
            <button class="btn btn-warning" ng-click="editing=!editing" ng-hide="editing">Edit</button>
            <button class="btn btn-success" ng-click="vm.updateUser(user); editing=false" ng-hide="!editing">Save</button>
            <button class="btn btn-primary" ng-hide="!editing" ng-click="editing=!editing">Back</button>
            <button class="btn btn-danger" ng-hide="editing" ng-click="vm.removeUser(user)">Delete</button>
          </td>
      </tr>
    </table>
    <button class="btn btn-primary btn-md" ng-hide="vm.detailed ===true || vm.adduser ==true" ng-click="vm.adduser=!vm.adduser">Add a User</button>
  </div>
  <div class="container create-users" ng-hide="!vm.adduser">
    <div class="form-group">
      <label for="name">Name</label>
      <input required ng-model="vm.user.name" type="text" id="name" class="form-control" style="width:300px;"/>
    </div>
    <div class="form-group">
      <label for="age">Age</label>
      <input required ng-model="vm.user.age" type="number" id="age" class="form-control" style="width:300px;"/>
    </div>
    <button class="btn btn-success" ng-click="vm.addUser(vm.user)"  ng-disabled="!vm.user.name || !vm.user.age">Add</button>
    <button class="btn btn-primary" ng-click="vm.adduser=false">Back</button>
  </div>
  <div class="container  detailes-container" ng-if="vm.detailed===true">
    <div class="jumbotron">
      <div class="close" style="font-size:50px; color:black;" ng-click="vm.detailed =false;">X</div>
      <h3>You are viewing detailes of User</h3>
      <h3>Number: {{vm.detailedUser._id}} </h3>
      <h3>Name: {{vm.detailedUser.name}} </h3>
      <h3>Age: {{vm.detailedUser.age}} </h3>
    </div>

  </div>
</div>
